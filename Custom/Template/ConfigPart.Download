#### Download agents
### AGENT LABEL=download-srm PROGRAM=Toolkit/Transfer/FileDownload DEFAULT=off
 -node ${PHEDEX_NODE}_Buffer
 -ignore ${PHEDEX_NODE}_MSS
 -db ${PHEDEX_CUSTOM}/DBParam:${PHEDEX_LABEL}
 -backend SRM
 -command srmcp
 -pfndest ${PHEDEX_CUSTOM}/FileDownloadDest,proto='srm',host="${PHEDEX_TRANSHOST}",prefix="${PHEDEX_PATHPREFIX}",limit=250,miniowner='yes'
 -delete ${PHEDEX_CUSTOM}/FileDownloadDelete,${PHEDEX_CATALOGUE},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX}
 -publish ${PHEDEX_CUSTOM}/FileDownloadPublish,${PHEDEX_CATALOGUE},${PHEDEX_DL_HISTORY},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX}
 -validate ${PHEDEX_CUSTOM}/FileDownloadVerify,${PHEDEX_URLPREFIX},${PHEDEX_LOCPREFIX},'<access protocol: dcap|posix|rfio>'
 -timeout 3600
 -wanted 500G
 -batch-files 1
 -jobs 1
 -wait $(expr 10 + $RANDOM % 10)

### AGENT LABEL=download-gsiftp PROGRAM=Toolkit/Transfer/FileDownload DEFAULT=off
 -node ${PHEDEX_NODE}_Buffer
 -ignore ${PHEDEX_NODE}_MSS
 -db ${PHEDEX_CUSTOM}/DBParam:${PHEDEX_LABEL}
 -backend Globus
 -command globus-url-copy
 -pfndest ${PHEDEX_CUSTOM}/FileDownloadDest,proto='gsiftp',host="${PHEDEX_TRANSHOST}",prefix="${PHEDEX_PATHPREFIX}",limit=250,miniowner='yes'
 -delete ${PHEDEX_CUSTOM}/FileDownloadDelete,${PHEDEX_CATALOGUE},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX}
 -publish ${PHEDEX_CUSTOM}/FileDownloadPublish,${PHEDEX_CATALOGUE},${PHEDEX_DL_HISTORY},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX}
 -validate ${PHEDEX_CUSTOM}/FileDownloadVerify,${PHEDEX_URLPREFIX},${PHEDEX_LOCPREFIX},'<access protocol: dcap|posix|rfio>'
 -timeout 3600
 -wanted 500G
 -batch-files 1
 -jobs 1
 -wait $(expr 10 + $RANDOM % 10)


### AGENT LABEL=download-cleanup PROGRAM=Toolkit/Transfer/FileDiskCleaner DEFAULT=off
 -importloc ${LOCPREFIX}
 -maxfillratio 15
 -minfreespace 102400
 -purgesize 1
 -node ${PHEDEX_NODE}_Buffer
 -db ${PHEDEX_CUSTOM}/DBParam:${PHEDEX_LABEL}
 -pfnrm ${PHEDEX_CUSTOM}/FileDownloadDelete,${PHEDEX_CATALOGUE},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX},'cleaner'
 -pfnquery ${PHEDEX_CUSTOM}/PFNLookup.sh,-u,${PHEDEX_CATALOGUE},${PHEDEX_CATPREFIX},${PHEDEX_URLPREFIX}
 -protocol '<access protocol: direct|srm|rfio|srm>'
 -wait $(expr 600 + $RANDOM % 600)


