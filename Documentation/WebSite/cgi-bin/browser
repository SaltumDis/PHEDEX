#!/usr/bin/env perl

BEGIN { use strict; use warnings; $^W=1; }
use CGI qw(param redirect);

my $db = param('db') || "prod";
my $oldpage = param('page') || "";
my %mapping = ("main" => "Components::Status",
	       "transfer" => "Activity::TransferState",
	       "tstates" => "Activity::TransferStates",
	       "replicas" => "Data::Replicas",
	       "subs" => "Data::Subscriptions",
	       "stats" => "Reports::Size",
	       "rates" => "Activity::Rate",
	       "rateplot" => "Activity::RatePlots",
	       "pplot" => "Activity::QueuePlots",
	       "qplot" => "Activity::QualityPlots",
	       "agents" => "Components::Agents",
	       "dbreports" => "Reports::DailyReports",
	       "dbreport" => "Reports::DailyReport",
	       "tfiles" => "Activity::FileInfo");
my $newpage = "";
$newpage = $mapping{$oldpage} if exists $mapping{$oldpage};

print redirect(-url => "http://cmsdoc.cern.ch/cms/aprom/phedex/$db/$newpage");
