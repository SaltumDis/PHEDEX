<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<!-- YUI stylesheets-->
<link rel="stylesheet" type="text/css" href="/yui/build/fonts/fonts-min.css"/>
<link rel="stylesheet" type="text/css" href="/yui/build/menu/assets/skins/sam/menu.css"/>
<link rel="stylesheet" type="text/css" href="/yui/build/treeview/assets/skins/sam/treeview.css">
<link rel="stylesheet" type="text/css" href="/yui/build/datatable/assets/skins/sam/datatable.css">
<link rel="stylesheet" type="text/css" href="/yui/build/container/assets/container-core.css">
<link rel="stylesheet" type="text/css" href="/yui/build/resize/assets/skins/sam/resize.css"> 
<link rel="stylesheet" type="text/css" href="/yui/build/logger/assets/skins/sam/logger.css">
<link rel="stylesheet" type="text/css" href="/yui/build/menu/assets/skins/sam/menu.css">
<link rel="stylesheet" type="text/css" href="/yui/examples/treeview/assets/css/menu/tree.css">
<link rel="stylesheet" type="text/css" href="/yui/build/button/assets/button-core.css">
<link rel="stylesheet" type="text/css" href="/yui/build/button/assets/skins/sam/button.css"/>
<link rel="stylesheet" type="text/css" href="/yui/build/assets/skins/sam/button.css">
<link rel="stylesheet" type="text/css" href="/yui/build/fonts/fonts-min.css" />
<!-- PhEDEx stylesheets -->
<link rel="stylesheet" type="text/css" href="/css/phedex.css">
<!-- For the web page styling --> 
<link rel="stylesheet" type="text/css" href="/css/historydemo.css"/>
<title>PheDex - Group Usage Demo</title>

</head>
<!-- For YUI form controls (Button) functionalities -->

<!-- YUI libs -->
<script type="text/javascript" src="/yui/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="/yui/build/connection/connection-min.js"></script>
<script type="text/javascript" src="/yui/build/json/json-min.js"></script>
<script type="text/javascript" src="/yui/build/treeview/treeview-min.js"></script>
<script type="text/javascript" src="/yui/build/logger/logger-min.js"></script>
<script type="text/javascript" src="/yui/build/dragdrop/dragdrop-min.js"></script>
<script type="text/javascript" src="/yui/build/element/element-min.js"></script>
<script type="text/javascript" src="/yui/build/datasource/datasource-min.js"></script>
<script type="text/javascript" src="/yui/build/datatable/datatable-min.js"></script>
<script type="text/javascript" src="/yui/build/animation/animation-min.js"></script>
<script type="text/javascript" src="/yui/build/container/container-min.js"></script>
<script type="text/javascript" src="/yui/build/resize/resize-min.js"></script>
<script type="text/javascript" src="/yui/build/menu/menu-min.js"></script>
<script type="text/javascript" src="/yui/build/button/button-min.js"></script>
<script type="text/javascript" src="/yui/build/history/history.js"></script>
<script type="text/javascript" src="/yui/build/slider/slider-min.js"></script>

<!-- PhEDEx libs -->
<script type="text/javascript" src="/js/phedex-base.js"></script>
<script type="text/javascript" src="/js/phedex-util.js"></script>
<script type="text/javascript" src="/js/phedex-page.js"></script>
<script type="text/javascript" src="/js/phedex-datasvc.js"></script>
<script type="text/javascript" src="/js/phedex-event.js"></script>
<script type="text/javascript" src="/js/phedex-core-logger.js"></script>
<script type="text/javascript" src="/js/phedex-core-contextmenu.js"></script>
<script type="text/javascript" src="/js/phedex-core-control.js"></script>
<script type="text/javascript" src="/js/phedex-core-filter.js"></script>
<script type="text/javascript" src="/js/phedex-core-widget.js"></script>
<script type="text/javascript" src="/js/phedex-core-widget-registry.js"></script>
<script type="text/javascript" src="/js/phedex-core-widget-datatable.js"></script>
<script type="text/javascript" src="/js/phedex-core-widget-treeview.js"></script>
<script type="text/javascript" src="/js/phedex-navigator.js"></script>
<script type="text/javascript" src="/js/phedex-widget-groupusage.js"></script>

</head>
<body class="yui-skin-sam">
    <div id = "formtitle">CMS Phedex Group Usage Demo</div>
    <br/>
    <div><span class="sometext">Enter group name:</span>&nbsp;<input id="txtboxGroup" class="txtboxBlkNode"></input></div>
    <br/>
    <span id="GetInfoBtn" class="yui-skin-sam"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span id="ResetBtn" class="yui-skin-sam"></span>
    <br/>
    <hr width="100%" size="3" style="background-color: #3399FF;"/>
    <div id = "Result"></div>
    <script type="text/javascript">
    // Create Yahoo! Buttons
    var objPushBtnGet = new YAHOO.widget.Button({ label:"Get Group Info", id:"buttonGetInfo", container:"GetInfoBtn", onclick: { fn: GetGroupInfo } });
    var objPushBtnReset = new YAHOO.widget.Button({ label:"Reset", id:"buttonReset", container:"ResetBtn", onclick: { fn: Reset } });
    var widgetUser = null;
    function GetGroupInfo()
    {
      var strDataInput = document.getElementById("txtboxGroup").value;
      strDataInput = strDataInput.trim(); //Remove the whitespaces from the ends of the string
      if (!strDataInput)
      {
          alert("Please enter the query group name(s)."); //Alert user if input is missing
          Reset();
          return;
      }
	  if (widgetUser)
      {
          widgetUser.onDestroy.fire(); //Destroy the widget if key value paid is nothing
          widgetUser = null;
      }
      widgetUser = new PHEDEX.Widget.GroupUsage(strDataInput, 'Result');
      widgetUser.update();
    }
    
    function Reset()
    {
	  if (widgetUser)
      {
          widgetUser.onDestroy.fire(); //Destroy the widget if key value paid is nothing
          widgetUser = null;
      }

      document.getElementById("Result").innerHTML = "";   //Reset the result element
      document.getElementById("txtboxGroup").value = "";  //Reset the result element
    }
    
    String.prototype.trim = function()
    {
      return (this.replace(/^\s+|\s+$/g,""));
    }
    </script>  
</body>
</html>
