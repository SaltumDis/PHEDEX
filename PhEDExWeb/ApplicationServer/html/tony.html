<!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.01//EN” “http://www.w3.org/TR/html4/strict.dtd”>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <title>PhEDEx Web Interface</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />

  <!-- YUI stylesheets-->
  <link rel="stylesheet" type="text/css" href="/yui/build/treeview/assets/skins/sam/treeview.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/datatable/assets/skins/sam/datatable.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/container/assets/container-core.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/resize/assets/skins/sam/resize.css"> 
  <link rel="stylesheet" type="text/css" href="/yui/build/logger/assets/skins/sam/logger.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/menu/assets/skins/sam/menu.css">
  <link rel="stylesheet" type="text/css" href="/yui/examples/treeview/assets/css/menu/tree.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/button/assets/button-core.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/assets/skins/sam/button.css">
  <link rel="stylesheet" type="text/css" href="/yui/build/fonts/fonts-min.css" />
  <link rel="stylesheet" type="text/css" href="/yui/build/autocomplete/assets/skins/sam/autocomplete.css" />

  <!-- YUI libs -->
  <script type="text/javascript" src="/yui/build/yahoo-dom-event/yahoo-dom-event.js"></script>
  <script type="text/javascript" src="/yui/build/connection/connection-min.js"></script>
  <script type="text/javascript" src="/yui/build/json/json-min.js"></script>
  <script type="text/javascript" src="/yui/build/treeview/treeview-min.js"></script>
  <script type="text/javascript" src="/yui/build/logger/logger-min.js"></script>
  <script type="text/javascript" src="/yui/build/dragdrop/dragdrop-min.js"></script>
  <script type="text/javascript" src="/yui/build/element/element-min.js"></script>
  <script type="text/javascript" src="/yui/build/datasource/datasource-min.js"></script>
  <script type="text/javascript" src="/yui/build/datatable/datatable-min.js"></script>
  <script type="text/javascript" src="/yui/build/animation/animation-min.js"></script>
  <script type="text/javascript" src="/yui/build/container/container-min.js"></script>
  <script type="text/javascript" src="/yui/build/resize/resize-min.js"></script>
  <script type="text/javascript" src="/yui/build/menu/menu-min.js"></script>
  <script type="text/javascript" src="/yui/build/button/button-min.js"></script>
  <script type="text/javascript" src="/yui/build/autocomplete/autocomplete-min.js"></script>

  <!-- PhEDEx stylesheets -->
  <link rel="stylesheet" type="text/css" href="/css/phedex.css">

  <!-- PhEDEx libs -->
  <script type="text/javascript" src="/js/phedex-base.js"></script>
  <script type="text/javascript" src="/js/phedex-util.js"></script>
  <script type="text/javascript" src="/js/phedex-page.js"></script>
  <script type="text/javascript" src="/js/phedex-datasvc.js"></script>
  <script type="text/javascript" src="/js/phedex-event.js"></script>
  <script type="text/javascript" src="/js/phedex-core-logger.js"></script>
  <script type="text/javascript" src="/js/phedex-core-contextmenu.js"></script>
  <script type="text/javascript" src="/js/phedex-core-control.js"></script>
  <script type="text/javascript" src="/js/phedex-core-filter.js"></script>
  <script type="text/javascript" src="/js/phedex-core-widget.js"></script>
  <script type="text/javascript" src="/js/phedex-core-widget-registry.js"></script>
  <script type="text/javascript" src="/js/phedex-core-widget-datatable.js"></script>
  <script type="text/javascript" src="/js/phedex-core-widget-treeview.js"></script>
  <script type="text/javascript" src="/js/phedex-navigator.js"></script>
  <script type="text/javascript" src="/js/phedex-global-filter.js"></script>
  <script type="text/javascript" src="/js/phedex-widget-agents.js"></script>
  <script type="text/javascript" src="/js/phedex-widget-nodes.js"></script>
  <script type="text/javascript" src="/js/phedex-widget-linkview.js"></script>
  <script type="text/javascript" src="/js/phedex-widget-requestview.js"></script>
  <script type="text/javascript" src="/js/phedex-widget-template.js"></script>
</head>

<body class="yui-skin-sam">
 <div style='border-bottom:solid black 2px; margin-bottom: 2px;'><img src="/images/phedex-logo-small.gif" alt="PhEDEx" height="20" />
    <b>PhEDEx Next-Gen Web Application - v.<span id='phedex-app-version'></span></b> -
    <a target='new_twiki' href="https://twiki.cern.ch/twiki/bin/view/CMS/PhedexProjWebsite">plan</a> -
    <a href="mailto:cms-phedex-admins@cern.ch">feedback mail</a> -
    <a target='new_bugs' href="https://savannah.cern.ch/bugs/?func=additem&group=phedex">bugs/feature req.</a>
 </div>
 <div id='phedex-nav' class='phedex-nav'></div><br clear='all'/>
 <div id='phedex-main'></div>

<script type="text/javascript">
// instantiate the page and other things when the DOM is ready!
YAHOO.util.Event.onDOMReady(function() {
  var phedex_app_version = document.getElementById('phedex-app-version');
  phedex_app_version.innerHTML = PHEDEX.Appserv.Version;

  PHEDEX.Navigator.init('phedex-nav',
    { typecfg: {
	none: { label: 'Explore global',  order: 10 },
        node: { label: 'Explore by node', order: 20 }
      }
     }
  );

// A logger, if I want it..
  if ( 1 ) {
    var loggerDiv = document.createElement('div');
    loggerDiv.id = 'phedex-logger';
    loggerDiv.className='phedex-invisible phedex-logger';
    YAHOO.util.Dom.insertBefore(loggerDiv,'phedex-main');
    var loggerCtlDiv = PxU.makeChild('phedex-nav', 'div', { id: 'phedex-nav-logger-ctl', className:'phedex-nav-link float-right'});
    var ctlLog = new PHEDEX.Core.Control({text:'Show Logger', payload:{render:'phedex-nav-logger-ctl', target:'phedex-logger'} } );
    ctlLog.Show();
    PHEDEX.Logger.Create(
      {},
      {	hideSource:[
	  'Core.Datasvc',
	  'Core.TreeView',
	  'Core.DataTable',
	  'Core.Widget',
	  'Core.ContextMenu',
	  'Core.Control',
	  'Widget.LinkView',
	  'Widget.RequestView',
	  'Navigator']
      }
    );

//     var listWidgetDiv = document.createElement('div');
//     listWidgetDiv.id = 'phedex-list-widgets';
//     listWidgetDiv.className='phedex-invisible';
//     var listWidgetDivCtl = PxU.makeChild('phedex-nav', 'div', { id: 'phedex-list-widget-ctl', className:'phedex-nav-link'});
//     YAHOO.util.Dom.insertBefore(listWidgetDiv,'phedex-main');
//     var fillListWidgetDiv = function() {
//       listWidgetDiv.innerHTML  = 'List of known widgets:<br /><ul>';
//       PHEDEX.Event.onListWidgets.fire(listWidgetDiv);
//       listWidgetDiv.innerHTML += '</ul><br />end of list...';
//     }
//     var ctlListWidgets = new PHEDEX.Core.Control({text:'List Widgets', payload:{render:'phedex-list-widget-ctl', target:'phedex-list-widgets', fillFn:fillListWidgetDiv} } );
  }

});
</script>

</body>
</html>
