#### sample configuration
### ENVIRON common

# Common part
PHEDEX_LABEL=LOCAL;
PHEDEX_SITE=LOCAL;
PHEDEX_NODE=TX_${PHEDEX_SITE}_Buffer;
PHEDEX_CONTEXT=Mgmt;

### ENVIRON common
PHEDEX_BASE=/afs/cern.ch/user/w/wildish/public/COMP/PHEDEX_3_0_0_pre7;
PHEDEX_INSTANCE=Testbed;
PHEDEX_VERSION=2_6_2
PHEDEX_OS_VERSION=slc4_ia32_gcc345;

[ -z "$PHEDEX_SITE" ] && { echo '$PHEDEX_SITE not set' 1>&2; exit 1; };
[ -z "$PHEDEX_INSTANCE" ] && { echo '$PHEDEX_INSTANCE not set' 1>&2; exit 1; };
[ -z "$PHEDEX_LABEL" ] && { echo '$PHEDEX_LABEL not set' 1>&2; exit 1; };
[ -z "$PHEDEX_CONTEXT" ] && { echo '$PHEDEX_CONTEXT not set' 1>&2; exit 1; };

PHEDEX_CONFIG=${PHEDEX_BASE}/Configs;
PHEDEX_DBPARAM=${PHEDEX_BASE}/DBParam:$PHEDEX_INSTANCE;
PHEDEX_STATE=${PHEDEX_BASE}/${PHEDEX_INSTANCE}_${PHEDEX_CONTEXT}/state;
PHEDEX_LOGS=${PHEDEX_BASE}/${PHEDEX_INSTANCE}_${PHEDEX_CONTEXT}/logs;
PHEDEX_SCRIPTS=${PHEDEX_BASE};
PERL5LIB=/afs/cern.ch/user/w/wildish/public/perl:${PHEDEX_BASE}/perl_lib

PHEDEX_LOGS=/tmp/wildish/logs
PHEDEX_STATE=/tmp/wildish/state

export PHEDEX_VERBOSE=1
export PHEDEX_DEBUG=1
export PHEDEX_NOTIFICATION_PORT=12345
PHEDEX_DEBUGGER="perl -MPHEDEX::Debug -d"

### AGENT LABEL=master-agent PROGRAM=Utilities/AgentFactory.pl
 -db     ${PHEDEX_DBPARAM}
 -node   ${PHEDEX_NODE}
 -config ${PHEDEX_CONFIG_FILE}
  STATISTICS_INTERVAL 3600
  STATISTICS_DETAIL 1
 -agent  fast-agent
 -agent  medium-agent
 -agent  slow-agent
# -agent  blockverify

### AGENT LABEL=fast-agent PROGRAM=template::Agent DEFAULT=off
 WAITTIME 3
 ME template-fast-agent
 NOTIFICATION_HOST pctony.cern.ch
 NOTIFICATION_PORT 1234

### AGENT LABEL=medium-agent PROGRAM=template::Agent DEFAULT=off
 WAITTIME 7
 ME template-medium-agent

### AGENT LABEL=slow-agent PROGRAM=template::Agent DEFAULT=off
 WAITTIME 15
 ME template-slow-agent

### AGENT LABEL=blockverify PROGRAM=PHEDEX::BlockConsistency::Agent DEFAULT=off
  -db          ${PHEDEX_DBPARAM}
  -nodes       ${PHEDEX_NODE}
  -storagemap  ${PHEDEX_MAP}
